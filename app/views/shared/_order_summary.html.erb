<%# Order summary partial %>
<div class="card">
  <div class="card-body">
    <h2 class="h5 mb-4">Order Summary</h2>
    
    <div class="mb-4">
      <% cart_items.each do |item| %>
        <% crate_type = CrateType.find(item["crate_type_id"]) %>
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div>
            <p class="mb-0 fw-medium"><%= crate_type.name %></p>
            <p class="text-secondary mb-0">Quantity: <%= item["quantity"] %></p>
          </div>
          <p class="mb-0 fw-medium">
            <%= number_to_currency(crate_type.price * item["quantity"].to_i) %>
          </p>
        </div>
      <% end %>

      <div class="border-top pt-3 mt-3">
        <div class="d-flex justify-content-between">
          <p class="fw-semibold mb-0">Total:</p>
          <p class="fw-semibold mb-0">
            <%= number_to_currency(cart_items.sum { |item| CrateType.find(item["crate_type_id"]).price * item["quantity"].to_i }) %>
          </p>
        </div>
      </div>
    </div>
  </div>
</div> 