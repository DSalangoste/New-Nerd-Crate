<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6">Checkout</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <!-- Order Summary -->
    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-xl font-semibold mb-4">Order Summary</h2>
      <div class="space-y-4">
        <% @cart_items.each do |item| %>
          <div class="flex justify-between items-center">
            <div>
              <p class="font-medium"><%= item[:crate_type].name %></p>
              <p class="text-sm text-gray-500">Quantity: <%= item[:quantity] %></p>
            </div>
            <p class="font-medium"><%= number_to_currency(item[:total]) %></p>
          </div>
        <% end %>
        <div class="border-t pt-4">
          <div class="flex justify-between items-center font-bold">
            <p>Total</p>
            <p><%= number_to_currency(@cart_total) %></p>
          </div>
        </div>
      </div>
    </div>

    <!-- Shipping Information -->
    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-xl font-semibold mb-4">Shipping Information</h2>
      <%= form_with(model: @address, url: checkout_path, method: :post, class: "space-y-4") do |f| %>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <%= f.label :first_name, class: "block text-sm font-medium text-gray-700" %>
            <%= f.text_field :first_name, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
          </div>
          <div>
            <%= f.label :last_name, class: "block text-sm font-medium text-gray-700" %>
            <%= f.text_field :last_name, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
          </div>
        </div>

        <div>
          <%= f.label :address_line_1, class: "block text-sm font-medium text-gray-700" %>
          <%= f.text_field :address_line_1, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
        </div>

        <div>
          <%= f.label :address_line_2, class: "block text-sm font-medium text-gray-700" %>
          <%= f.text_field :address_line_2, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <%= f.label :city, class: "block text-sm font-medium text-gray-700" %>
            <%= f.text_field :city, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
          </div>
          <div>
            <%= f.label :state, class: "block text-sm font-medium text-gray-700" %>
            <%= f.text_field :state, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <%= f.label :postal_code, class: "block text-sm font-medium text-gray-700" %>
            <%= f.text_field :postal_code, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
          </div>
          <div>
            <%= f.label :country, class: "block text-sm font-medium text-gray-700" %>
            <%= f.text_field :country, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
          </div>
        </div>

        <div>
          <%= f.label :phone, class: "block text-sm font-medium text-gray-700" %>
          <%= f.telephone_field :phone, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
        </div>

        <div class="mt-6">
          <%= f.submit "Place Order", class: "w-full px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700" %>
        </div>
      <% end %>
    </div>
  </div>
</div> 